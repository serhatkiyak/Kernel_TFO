(function(){var Util,__bind=function(fn,me){return function(){return fn.apply(me,arguments)}};Util=(function(){function Util(){}Util.prototype.extend=function(custom,defaults){var key,value;for(key in custom){value=custom[key];if(value!=null){defaults[key]=value}}return defaults};Util.prototype.isMobile=function(agent){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent)};return Util})();this.WOW=(function(){WOW.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:true};function WOW(options){if(options==null){options={}}this.scrollCallback=__bind(this.scrollCallback,this);this.scrollHandler=__bind(this.scrollHandler,this);this.start=__bind(this.start,this);this.scrolled=true;this.config=this.util().extend(options,this.defaults)}WOW.prototype.init=function(){var _ref;this.element=window.document.documentElement;if((_ref=document.readyState)==="interactive"||_ref==="complete"){return this.start()}else{return document.addEventListener("DOMContentLoaded",this.start)}};WOW.prototype.start=function(){var box,_i,_len,_ref;this.boxes=this.element.getElementsByClassName(this.config.boxClass);if(this.boxes.length){if(this.disabled()){return this.resetStyle()}else{_ref=this.boxes;for(_i=0,_len=_ref.length;_i<_len;_i++){box=_ref[_i];this.applyStyle(box,true)}window.addEventListener("scroll",this.scrollHandler,false);window.addEventListener("resize",this.scrollHandler,false);return this.interval=setInterval(this.scrollCallback,50)}}};WOW.prototype.stop=function(){window.removeEventListener("scroll",this.scrollHandler,false);window.removeEventListener("resize",this.scrollHandler,false);if(this.interval!=null){return clearInterval(this.interval)}};WOW.prototype.show=function(box){this.applyStyle(box);return box.className=""+box.className+" "+this.config.animateClass};WOW.prototype.applyStyle=function(box,hidden){var delay,duration,iteration;duration=box.getAttribute("data-wow-duration");delay=box.getAttribute("data-wow-delay");iteration=box.getAttribute("data-wow-iteration");return box.setAttribute("style",this.customStyle(hidden,duration,delay,iteration))};WOW.prototype.resetStyle=function(){var box,_i,_len,_ref,_results;_ref=this.boxes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){box=_ref[_i];_results.push(box.setAttribute("style","visibility: visible;"))}return _results};WOW.prototype.customStyle=function(hidden,duration,delay,iteration){var style;style=hidden?"visibility: hidden; -webkit-animation-name: none; -moz-animation-name: none; animation-name: none;":"visibility: visible;";if(duration){style+="-webkit-animation-duration: "+duration+"; -moz-animation-duration: "+duration+"; animation-duration: "+duration+";"}if(delay){style+="-webkit-animation-delay: "+delay+"; -moz-animation-delay: "+delay+"; animation-delay: "+delay+";"}if(iteration){style+="-webkit-animation-iteration-count: "+iteration+"; -moz-animation-iteration-count: "+iteration+"; animation-iteration-count: "+iteration+";"}return style};WOW.prototype.scrollHandler=function(){return this.scrolled=true};WOW.prototype.scrollCallback=function(){var box;if(this.scrolled){this.scrolled=false;this.boxes=(function(){var _i,_len,_ref,_results;_ref=this.boxes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){box=_ref[_i];if(!(box)){continue}if(this.isVisible(box)){this.show(box);continue}_results.push(box)}return _results}).call(this);if(!this.boxes.length){return this.stop()}}};WOW.prototype.offsetTop=function(element){var top;top=element.offsetTop;while(element=element.offsetParent){top+=element.offsetTop}return top};WOW.prototype.isVisible=function(box){var bottom,offset,top,viewBottom,viewTop;offset=box.getAttribute("data-wow-offset")||this.config.offset;viewTop=window.pageYOffset;viewBottom=viewTop+this.element.clientHeight-offset;top=this.offsetTop(box);bottom=top+box.clientHeight;return top<=viewBottom&&bottom>=viewTop};WOW.prototype.util=function(){return this._util||(this._util=new Util())};WOW.prototype.disabled=function(){return !this.config.mobile&&this.util().isMobile(navigator.userAgent)};return WOW})()}).call(this);
$(document).ready(function() {
  
    var boxandfree_img = $(".boxandfree img"); 

    function doAnimate() { 
        var scrollTop = $(window).scrollTop();
        if (scrollTop > 163) { 
            lazyImage();
        } 
        isInVision($("#boxandfree"), function() {  
            setTimeout(function() {
                $("#boximg_box").addClass("fadeInLeft animated");
                $("#freeimg_box").addClass("fadeInRight animated");
            }, 500) 
        }); 
        isInVision($("#grid_scenter"), function() { 
            setTimeout(function() {
                $("#grid_scenter .scenter_icon").addClass("animated")
            }, 500) 
        }) 
    }
    function lazyImage(){
        var jLazy = $('.j-lazy'); 
        jLazy.each(function(){
            if($(this).attr('init-src')){
                $(this).prepend('<img src="'+ $(this).attr("init-src")+'"/>'); 
                $(this).removeAttr('init-src');
            }else{
                return false;
            }
        })
    }
    function resetFirstGirdHeight(){ 
        var clheight = document.documentElement.clientHeight;
        clheight = spreadtype == 'true' ? clheight-160 : clheight;
        clheight = clheight < 600 ? 600 : clheight;
        clheight = clheight > 1100 ? 1100 : clheight;
        document.getElementById('first_screen').style.height = clheight+'px';
    }

    $(window).bind("scroll", function() {
        doAnimate();
        miniDownloadDisplay(600);
    }); 

    $(window).bind("resize", function() {
        resetFirstGirdHeight();
    });

    $(function(){  
        $("#home_dlBtn").mouseenter(function() { 
            $(".download_version_tip").stop().fadeIn();
        }).mouseleave(function(){
            $(".download_version_tip").stop().fadeOut();
        });
    });

    function setToolSameHeight(){
        var arrY = [],
            jToolsDetail = $('.j-toolsdetail');
        jToolsDetail.each(function(){
            arrY.push($(this).height());
        }) 
        jToolsDetail.css({height: Math.max.apply(null, arrY)});
    };

    doAnimate();
    setToolSameHeight();
})
 
function miniDownloadDisplay(target){
    var $w = $(window),
        $d = $('#J_miniDownload');
    $w.scrollTop()>= target ? $d.fadeIn() : $d.fadeOut();
}

wow = new WOW(
    {
        animateClass: 'animated',
        offset:       100
    }
);

wow.init();

$(function () {   
    $("#scrollBtn").click(function () { 
        $('html,body').animate({
            scrollTop: $('#second_screen').offset().top
        },800); 
    });
});